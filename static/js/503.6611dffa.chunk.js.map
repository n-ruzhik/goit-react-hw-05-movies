{"version":3,"file":"static/js/503.6611dffa.chunk.js","mappings":"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","sources":["components/utils/apiMovies.js","webpack://react-homework-template/./src/pages/MoviesItem/MoviesItem.module.css?a6e3","pages/MoviesItem/MoviesItem.jsx"],"sourcesContent":["import axios from 'axios';\nconst KEY = '8664a2b6db354b584ef037e248f4b600';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    return await axios.get(`${BASE_URL}trending/movie/week?api_key=${KEY}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMoviesByQuery = async query => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieInfo = async movieId => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movieId}?api_key=${KEY}&language=en-US`\n    );\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieCast = async movieId => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n    );\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieReviews = async movieId => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US`\n    );\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backLink\":\"MoviesItem_backLink__3tDhL\",\"movieItemContainer\":\"MoviesItem_movieItemContainer__PiyCU\",\"movieItemCard\":\"MoviesItem_movieItemCard__4lSvL\",\"additionalInfoBox\":\"MoviesItem_additionalInfoBox__Jxvn7\",\"additionalInfoList\":\"MoviesItem_additionalInfoList__v8cLq\",\"additionalItem\":\"MoviesItem_additionalItem__wWkOZ\",\"additionalItemLink\":\"MoviesItem_additionalItemLink__lqfjB\",\"genresList\":\"MoviesItem_genresList__wlOxQ\",\"overviewBox\":\"MoviesItem_overviewBox__On1yj\",\"infoBox\":\"MoviesItem_infoBox__pp4jV\"};","import { useParams, useLocation, Outlet, Link } from 'react-router-dom';\nimport { useEffect, useState, useRef, Suspense } from 'react';\n\nimport { fetchMovieInfo } from '../../components/utils/apiMovies';\nimport { BallTriangle } from 'react-loader-spinner';\nimport css from './MoviesItem.module.css';\n\nexport default function MoviesItem() {\n  const [movieDetails, setMovieDetails] = useState();\n  const { movieId } = useParams();\n  const location = useLocation();\n  const pathReturn = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    try {\n      const getInfo = async () => {\n        const { data } = await fetchMovieInfo(movieId);\n\n        setMovieDetails(data);\n      };\n\n      getInfo();\n    } catch (error) {\n      console.log(error.message);\n      setMovieDetails({});\n    }\n  }, [movieId]);\n\n  return (\n    <div className={css.movieItemContainer}>\n      <Link className={css.backLink} to={pathReturn.current}>\n        Return\n      </Link>\n      {movieDetails && (\n        <div>\n          <div className={css.movieItemCard}>\n            <div>\n              <img\n                src={\n                  movieDetails.poster_path\n                    ? `https://image.tmdb.org/t/p/w500/${movieDetails.poster_path}`\n                    : `https://brinkys.gr/media/products//Image-Not-Available.png`\n                }\n                alt={movieDetails.title}\n                width=\"400\"\n                height=\"100%\"\n              />\n            </div>\n            <div className={css.infoBox}>\n              <div>\n                <h1>{movieDetails.title}</h1>\n                <p>Average score: {movieDetails.vote_average}</p>\n                <div className={css.overviewBox}>\n                  <h2>Overview</h2>\n                  <p>{movieDetails.overview}</p>\n                </div>\n                <div className={css.genresBox}>\n                  <h3>Genres</h3>\n                  <ul className={css.genresList}>\n                    {movieDetails.genres.map(({ name }) => name).join(', ')}\n                  </ul>\n                </div>\n              </div>\n              <div className={css.additionalInfoBox}>\n                <h3>Additional Information</h3>\n                <ul className={css.additionalInfoList}>\n                  <li className={css.additionalItem}>\n                    <Link className={css.additionalItemLink} to=\"cast\">\n                      Cast\n                    </Link>\n                  </li>\n                  <li className={css.additionalItem}>\n                    <Link className={css.additionalItemLink} to=\"reviews\">\n                      Reviews\n                    </Link>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <Suspense\n            fallback={\n              <div className={css.loader}>\n                <BallTriangle\n                  height={100}\n                  width={100}\n                  radius={5}\n                  color=\"#ff7e31\"\n                  ariaLabel=\"ball-triangle-loading\"\n                  // wrapperClass={css.loader}\n                  wrapperStyle=\"\"\n                  visible={true}\n                />\n              </div>\n            }\n          >\n            <Outlet />\n          </Suspense>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["KEY","BASE_URL","fetchTrendingMovies","axios","console","log","fetchMoviesByQuery","query","response","data","results","fetchMovieInfo","movieId","fetchMovieCast","fetchMovieReviews","MoviesItem","useState","movieDetails","setMovieDetails","useParams","location","useLocation","pathReturn","useRef","state","from","useEffect","getInfo","error","message","className","css","to","current","src","poster_path","alt","title","width","height","vote_average","overview","genres","map","name","join","Suspense","fallback","radius","color","ariaLabel","wrapperStyle","visible"],"sourceRoot":""}