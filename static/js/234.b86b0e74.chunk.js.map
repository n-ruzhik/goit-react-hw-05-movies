{"version":3,"file":"static/js/234.b86b0e74.chunk.js","mappings":"sPACA,GAAgB,WAAa,4BAA4B,QAAU,0B,SCIpD,SAASA,IACtB,OAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QA0BR,OAjBAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,gHAILC,EAAAA,EAAAA,IAAkBJ,GAJb,uBAGLK,EAHK,EAGbC,KAAQD,QAGVN,EAA6BM,EAbtBE,KAAI,kBAAsB,CACnCC,GADa,EAAGA,GAEhBC,QAFa,EAAOA,QAAP,KAOI,kBAQRX,GARQ,gCAUfY,QAAQC,IAAI,KAAMC,SAVH,yDAAH,qDAahBT,GACD,GAAE,CAACL,EAASE,KAGX,eAAIa,UAAWC,EAAAA,WAAf,SACsB,IAAnBhB,EAAQiB,QACP,cAAGF,UAAWC,EAAAA,QAAd,6CAEAhB,EAAQS,KAAI,YAAsB,IAAnBC,EAAkB,EAAlBA,GAAIC,EAAc,EAAdA,QACjB,OACE,eAAII,UAAWC,EAAAA,WAAf,UACE,uBAAIL,KAD8BD,EAIvC,KAIR,C,+LC/CKQ,EAAM,mCACNC,EAAW,gCAEJC,EAAmB,mCAAG,uGAElBC,EAAAA,EAAAA,IAAA,UAAaF,EAAb,uCAAoDD,IAFlC,wEAI/BN,QAAQC,IAAR,MAJ+B,wDAAH,qDAQnBS,EAAkB,mCAAG,WAAMC,GAAN,gGAEPF,EAAAA,EAAAA,IAAA,UAClBF,EADkB,gCACcD,EADd,iCAC0CK,EAD1C,YAFO,cAExBC,EAFwB,yBAKvBA,EAAShB,KAAKD,SALS,gCAO9BK,QAAQC,IAAR,MAP8B,yDAAH,sDAWlBY,EAAc,mCAAG,WAAMvB,GAAN,0FAEbmB,EAAAA,EAAAA,IAAA,UACRF,EADQ,iBACSjB,EADT,oBAC4BgB,EAD5B,oBAFa,wEAM1BN,QAAQC,IAAR,MAN0B,wDAAH,sDAUda,EAAc,mCAAG,WAAMxB,GAAN,0FAEbmB,EAAAA,EAAAA,IAAA,UACRF,EADQ,iBACSjB,EADT,4BACoCgB,EADpC,oBAFa,wEAM1BN,QAAQC,IAAR,MAN0B,wDAAH,sDAUdP,EAAiB,mCAAG,WAAMJ,GAAN,0FAEhBmB,EAAAA,EAAAA,IAAA,UACRF,EADQ,iBACSjB,EADT,4BACoCgB,EADpC,oBAFgB,wEAM7BN,QAAQC,IAAR,MAN6B,wDAAH,qD","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","components/utils/apiMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewList\":\"Reviews_reviewList__uMBar\",\"message\":\"Reviews_message__u2VJu\"};","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMovieReviews } from '../../components/utils/apiMovies';\nimport css from './Reviews.module.css';\n\nexport default function Reviews() {\n  const [reviews, setReviews] = useState([]);\n  const { movieId } = useParams();\n\n  const normalizedReviews = arr => {\n    return arr.map(({ id, content }) => ({\n      id,\n      content,\n    }));\n  };\n\n  useEffect(() => {\n    const getReviews = async () => {\n      try {\n        const {\n          data: { results },\n        } = await fetchMovieReviews(movieId);\n\n        setReviews(normalizedReviews(results));\n\n        return reviews;\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n    getReviews();\n  }, [reviews, movieId]);\n\n  return (\n    <ul className={css.reviewList}>\n      {reviews.length === 0 ? (\n        <p className={css.message}>Sorry, there are no reviews yet</p>\n      ) : (\n        reviews.map(({ id, content }) => {\n          return (\n            <li className={css.reviewItem} key={id}>\n              <p>{content}</p>\n            </li>\n          );\n        })\n      )}\n    </ul>\n  );\n}\n","import axios from 'axios';\nconst KEY = '8664a2b6db354b584ef037e248f4b600';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    return await axios.get(`${BASE_URL}trending/movie/week?api_key=${KEY}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMoviesByQuery = async query => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieInfo = async movieId => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movieId}?api_key=${KEY}&language=en-US`\n    );\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieCast = async movieId => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n    );\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieReviews = async movieId => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US`\n    );\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"names":["Reviews","useState","reviews","setReviews","movieId","useParams","useEffect","getReviews","fetchMovieReviews","results","data","map","id","content","console","log","message","className","css","length","KEY","BASE_URL","fetchTrendingMovies","axios","fetchMoviesByQuery","query","response","fetchMovieInfo","fetchMovieCast"],"sourceRoot":""}